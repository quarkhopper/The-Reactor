## 🛠️ Dev Note: Core UI Wiring & Button State Mapping

### ✅ What’s Working:
- The full **power cycle sequence** (init → test → on → shutdown → off) is functioning again.
- All `PanelButton` components:
  - Acknowledge themselves correctly using `ui-event` for both `init` and `test`
  - Use updated IDs (`fuel_rod_button_[x]_[y]` and `aux_button_[n]`)
  - Poll `coreSystem.getState().getFuelRodUIState(x, y)` to update:
    - `displayColor`
    - `disabled` status

### ❌ Current Problem:
- All **fuel rod buttons are green immediately on boot** before power is even turned on.
- This suggests the **initial temperature** for rods is above 0, or the **UI state mapping** defaults to `'green'` regardless of actual temp.

### 🧪 Next Steps:
1. **Inspect coreSystem.ts**:
   - Check rod temperature defaults in `createInitialState()` or equivalent initializer.
   - Ensure all temperatures start at `0`.

2. **Inspect getFuelRodUIState(x, y)**:
   - Ensure it maps `temperature <= 0` to `'off'`.
   - Example logic:
     ```ts
     if (temp <= 0) return 'off';
     if (temp < 100) return 'green';
     ...
     ```

3. **Confirm polling interval is running** and UI is reacting to actual core state changes.

---

You're at the point where the **reactor UI is stabilized**, and the next push is to finish **valid fuel rod → UI mapping** so thermal behavior and user interactions feel alive and responsive.

